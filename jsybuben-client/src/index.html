<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>jsybuben</title>
        <link rel="stylesheet" href="./lib/leaflet/leaflet.css" />
        <style>
            #mapArea {
                height:512px;
                width:512px;
            }
        </style>
    </head>
    <body>
        <script src="./dojoConfig.js"></script>
        <script src="./lib/dojo/dojo.js"></script>
        <script>
            require([
                "dojo/dom",
                "dojo/on",
                "jsybuben/jsybuben",
                "leaflet/leaflet",
                "dojo/domReady!"
            ], function(dom, on, jsybuben, leaflet) {
                // jsybuben
                var sourceTextArea = dom.byId("sourceTextArea");
                var conversionButton = dom.byId("conversionButton");
                var targetTextArea = dom.byId("targetTextArea");
                on(conversionButton, "click", function(e) {
                    var sourceText = sourceTextArea.value;
                    var convertedText = jsybuben.to_aybuben(sourceText);
                    targetTextArea.value = convertedText;
                });
                // leaflet
                var mymap = leaflet.map('mapArea', {center:[40.159167,44.509167], zoom: 10});
                var lyrOSM = leaflet.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png');
                mymap.addLayer(lyrOSM);
            });
        </script>
        <div id="conversionArea">
            <table>
                <tr>
                    <td><textarea id="sourceTextArea"></textarea></td>
                    <td><button id="conversionButton">&gt;&gt;</button></td>
                    <td><textarea id="targetTextArea"></textarea></td>
                </tr>
            </table>
        </div>
        <div id="mapArea"></div>
    </body>
</html>
